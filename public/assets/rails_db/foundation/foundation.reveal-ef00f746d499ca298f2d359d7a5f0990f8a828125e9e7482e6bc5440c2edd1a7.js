!function(e,t,n,a){"use strict";function o(e){var t=/fade/i.test(e),n=/pop/i.test(e);return{animate:t||n,pop:n,fade:t}}var s=[];Foundation.libs.reveal={name:"reveal",version:"5.5.3",locked:!1,settings:{animation:"fadeAndPop",animation_speed:250,close_on_background_click:!0,close_on_esc:!0,dismiss_modal_class:"close-reveal-modal",multiple_opened:!1,bg_class:"reveal-modal-bg",root_element:"body",open:function(){},opened:function(){},close:function(){},closed:function(){},on_ajax_error:e.noop,bg:e(".reveal-modal-bg"),css:{open:{opacity:0,visibility:"visible",display:"block"},close:{opacity:1,visibility:"hidden",display:"none"}}},init:function(t,n,a){e.extend(!0,this.settings,n,a),this.bindings(n,a)},events:function(){var e=this,t=e.S;return t(this.scope).off(".reveal").on("click.fndtn.reveal","["+this.add_namespace("data-reveal-id")+"]:not([disabled])",function(n){if(n.preventDefault(),!e.locked){var a=t(this),o=a.data(e.data_attr("reveal-ajax")),s=a.data(e.data_attr("reveal-replace-content"));if(e.locked=!0,void 0===o)e.open.call(e,a);else{var i=!0===o?a.attr("href"):o;e.open.call(e,a,{url:i},{replaceContentSel:s})}}}),t(n).on("click.fndtn.reveal",this.close_targets(),function(n){if(n.preventDefault(),!e.locked){var a=t("["+e.attr_name()+"].open").data(e.attr_name(!0)+"-init")||e.settings,o=t(n.target)[0]===t("."+a.bg_class)[0];if(o){if(!a.close_on_background_click)return;n.stopPropagation()}e.locked=!0,e.close.call(e,o?t("["+e.attr_name()+"].open:not(.toback)"):t(this).closest("["+e.attr_name()+"]"))}}),t("["+e.attr_name()+"]",this.scope).length>0?t(this.scope).on("open.fndtn.reveal",this.settings.open).on("opened.fndtn.reveal",this.settings.opened).on("opened.fndtn.reveal",this.open_video).on("close.fndtn.reveal",this.settings.close).on("closed.fndtn.reveal",this.settings.closed).on("closed.fndtn.reveal",this.close_video):t(this.scope).on("open.fndtn.reveal","["+e.attr_name()+"]",this.settings.open).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.settings.opened).on("opened.fndtn.reveal","["+e.attr_name()+"]",this.open_video).on("close.fndtn.reveal","["+e.attr_name()+"]",this.settings.close).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.settings.closed).on("closed.fndtn.reveal","["+e.attr_name()+"]",this.close_video),!0},key_up_on:function(){var e=this;return e.S("body").off("keyup.fndtn.reveal").on("keyup.fndtn.reveal",function(t){var n=e.S("["+e.attr_name()+"].open"),a=n.data(e.attr_name(!0)+"-init")||e.settings;a&&27===t.which&&a.close_on_esc&&!e.locked&&e.close.call(e,n)}),!0},key_up_off:function(){return this.S("body").off("keyup.fndtn.reveal"),!0},open:function(n,o){var i,r=this;n?"undefined"!=typeof n.selector?i=r.S("#"+n.data(r.data_attr("reveal-id"))).first():(i=r.S(this.scope),o=n):i=r.S(this.scope);var l=i.data(r.attr_name(!0)+"-init");if(l=l||this.settings,i.hasClass("open")&&n!==a&&n.attr("data-reveal-id")==i.attr("id"))return r.close(i);if(!i.hasClass("open")){var d=r.S("["+r.attr_name()+"].open");void 0===i.data("css-top")&&i.data("css-top",parseInt(i.css("top"),10)).data("offset",this.cache_offset(i)),i.attr("tabindex","0").attr("aria-hidden","false"),this.key_up_on(i),i.on("open.fndtn.reveal",function(e){e.namespace}),i.on("open.fndtn.reveal").trigger("open.fndtn.reveal"),d.length<1&&this.toggle_bg(i,!0),"string"==typeof o&&(o={url:o});var c=function(){d.length>0&&(l.multiple_opened?r.to_back(d):r.hide(d,l.css.close)),l.multiple_opened&&s.push(i),r.show(i,l.css.open)};if(void 0!==o&&o.url){var p="undefined"!=typeof o.success?o.success:null;e.extend(o,{success:function(t,n,a){if(e.isFunction(p)){var o=p(t,n,a);"string"==typeof o&&(t=o)}"undefined"!=typeof options&&"undefined"!=typeof options.replaceContentSel?i.find(options.replaceContentSel).html(t):i.html(t),r.S(i).foundation("section","reflow"),r.S(i).children().foundation(),c()}}),l.on_ajax_error!==e.noop&&e.extend(o,{error:l.on_ajax_error}),e.ajax(o)}else c()}r.S(t).trigger("resize")},close:function(t){var t=t&&t.length?t:this.S(this.scope),n=this.S("["+this.attr_name()+"].open"),a=t.data(this.attr_name(!0)+"-init")||this.settings,o=this;if(n.length>0)if(t.removeAttr("tabindex","0").attr("aria-hidden","true"),this.locked=!0,this.key_up_off(t),t.trigger("close.fndtn.reveal"),(a.multiple_opened&&1===n.length||!a.multiple_opened||t.length>1)&&(o.toggle_bg(t,!1),o.to_front(t)),a.multiple_opened){var i=t.is(":not(.toback)");o.hide(t,a.css.close,a),i?s.pop():s=e.grep(s,function(e){var n=e[0]===t[0];return n&&o.to_front(t),!n}),s.length>0&&o.to_front(s[s.length-1])}else o.hide(n,a.css.close,a)},close_targets:function(){var e="."+this.settings.dismiss_modal_class;return this.settings.close_on_background_click?e+", ."+this.settings.bg_class:e},toggle_bg:function(t,n){0===this.S("."+this.settings.bg_class).length&&(this.settings.bg=e("<div />",{"class":this.settings.bg_class}).appendTo("body").hide());var o=this.settings.bg.filter(":visible").length>0;n!=o&&((n==a?o:!n)?this.hide(this.settings.bg):this.show(this.settings.bg))},show:function(n,a){if(a){var s=n.data(this.attr_name(!0)+"-init")||this.settings,i=s.root_element,r=this;if(0===n.parent(i).length){var l=n.wrap('<div style="display: none;" />').parent();n.on("closed.fndtn.reveal.wrapped",function(){n.detach().appendTo(l),n.unwrap().unbind("closed.fndtn.reveal.wrapped")}),n.detach().appendTo(i)}var d=o(s.animation);if(d.animate||(this.locked=!1),d.pop){a.top=e(t).scrollTop()-n.data("offset")+"px";var c={top:e(t).scrollTop()+n.data("css-top")+"px",opacity:1};return setTimeout(function(){return n.css(a).animate(c,s.animation_speed,"linear",function(){r.locked=!1,n.trigger("opened.fndtn.reveal")}).addClass("open")},s.animation_speed/2)}if(a.top=e(t).scrollTop()+n.data("css-top")+"px",d.fade){var c={opacity:1};return setTimeout(function(){return n.css(a).animate(c,s.animation_speed,"linear",function(){r.locked=!1,n.trigger("opened.fndtn.reveal")}).addClass("open")},s.animation_speed/2)}return n.css(a).show().css({opacity:1}).addClass("open").trigger("opened.fndtn.reveal")}var s=this.settings;return o(s.animation).fade?n.fadeIn(s.animation_speed/2):(this.locked=!1,n.show())},to_back:function(e){e.addClass("toback")},to_front:function(e){e.removeClass("toback")},hide:function(n,a){if(a){var s=n.data(this.attr_name(!0)+"-init"),i=this;s=s||this.settings;var r=o(s.animation);if(r.animate||(this.locked=!1),r.pop){var l={top:-e(t).scrollTop()-n.data("offset")+"px",opacity:0};return setTimeout(function(){return n.animate(l,s.animation_speed,"linear",function(){i.locked=!1,n.css(a).trigger("closed.fndtn.reveal")}).removeClass("open")},s.animation_speed/2)}if(r.fade){var l={opacity:0};return setTimeout(function(){return n.animate(l,s.animation_speed,"linear",function(){i.locked=!1,n.css(a).trigger("closed.fndtn.reveal")}).removeClass("open")},s.animation_speed/2)}return n.hide().css(a).removeClass("open").trigger("closed.fndtn.reveal")}var s=this.settings;return o(s.animation).fade?n.fadeOut(s.animation_speed/2):n.hide()},close_video:function(t){var n=e(".flex-video",t.target),a=e("iframe",n);a.length>0&&(a.attr("data-src",a[0].src),a.attr("src",a.attr("src")),n.hide())},open_video:function(t){var n=e(".flex-video",t.target),o=n.find("iframe");if(o.length>0){if("string"==typeof o.attr("data-src"))o[0].src=o.attr("data-src");else{var s=o[0].src;o[0].src=a,o[0].src=s}n.show()}},data_attr:function(e){return this.namespace.length>0?this.namespace+"-"+e:e},cache_offset:function(e){var t=e.show().height()+parseInt(e.css("top"),10)+e.scrollY;return e.hide(),t},off:function(){e(this.scope).off(".fndtn.reveal")},reflow:function(){}}}(jQuery,window,window.document);